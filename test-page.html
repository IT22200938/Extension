<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Extension Test Page</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 40px 20px;
    }

    .container {
      max-width: 800px;
      margin: 0 auto;
      background: white;
      border-radius: 12px;
      padding: 40px;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
    }

    h1 {
      color: #667eea;
      margin-bottom: 10px;
    }

    .subtitle {
      color: #666;
      margin-bottom: 30px;
      font-size: 14px;
    }

    .section {
      margin-bottom: 40px;
      padding-bottom: 30px;
      border-bottom: 2px solid #f0f0f0;
    }

    .section:last-child {
      border-bottom: none;
    }

    h2 {
      color: #333;
      margin-bottom: 20px;
      font-size: 20px;
    }

    .test-description {
      background: #f8f9fa;
      padding: 15px;
      border-radius: 8px;
      margin-bottom: 20px;
      font-size: 14px;
      color: #666;
      border-left: 4px solid #667eea;
    }

    /* Click Test Section */
    .click-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 15px;
    }

    .click-button {
      padding: 20px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      border-radius: 8px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
    }

    .click-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
    }

    .click-button:active {
      transform: translateY(0);
    }

    /* Form Test Section */
    .form-group {
      margin-bottom: 20px;
    }

    label {
      display: block;
      margin-bottom: 8px;
      font-weight: 500;
      color: #333;
    }

    input[type="text"],
    input[type="email"],
    input[type="password"],
    textarea,
    select {
      width: 100%;
      padding: 12px;
      border: 2px solid #e0e0e0;
      border-radius: 6px;
      font-size: 14px;
      transition: border-color 0.3s;
    }

    input:focus,
    textarea:focus,
    select:focus {
      outline: none;
      border-color: #667eea;
    }

    textarea {
      resize: vertical;
      min-height: 100px;
    }

    .checkbox-group {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .checkbox-label {
      display: flex;
      align-items: center;
      cursor: pointer;
    }

    .checkbox-label input {
      width: auto;
      margin-right: 10px;
    }

    .submit-button {
      background: #4CAF50;
      color: white;
      padding: 12px 30px;
      border: none;
      border-radius: 6px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
    }

    .submit-button:hover {
      background: #45a049;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(76, 175, 80, 0.4);
    }

    /* Mouse Movement Test */
    .mouse-area {
      height: 300px;
      background: linear-gradient(45deg, #f5f5f5 25%, transparent 25%, transparent 75%, #f5f5f5 75%, #f5f5f5),
                  linear-gradient(45deg, #f5f5f5 25%, transparent 25%, transparent 75%, #f5f5f5 75%, #f5f5f5);
      background-size: 20px 20px;
      background-position: 0 0, 10px 10px;
      border: 2px solid #667eea;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      color: #666;
      position: relative;
      overflow: hidden;
    }

    .mouse-tracker {
      position: absolute;
      top: 10px;
      right: 10px;
      background: rgba(102, 126, 234, 0.9);
      color: white;
      padding: 10px 15px;
      border-radius: 6px;
      font-size: 12px;
      font-family: monospace;
    }

    /* Scroll Test */
    .scroll-area {
      height: 400px;
      overflow-y: auto;
      background: #f8f9fa;
      border: 2px solid #667eea;
      border-radius: 8px;
      padding: 20px;
    }

    .scroll-content {
      height: 1000px;
      background: linear-gradient(to bottom,
        #667eea 0%,
        #764ba2 25%,
        #f093fb 50%,
        #f5576c 75%,
        #4facfe 100%
      );
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 24px;
      font-weight: bold;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
    }

    /* Interactive Elements */
    .interactive-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
    }

    .interactive-card {
      background: #f8f9fa;
      padding: 20px;
      border-radius: 8px;
      border: 2px solid #e0e0e0;
      transition: all 0.3s;
      cursor: pointer;
    }

    .interactive-card:hover {
      border-color: #667eea;
      transform: translateY(-4px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }

    .interactive-card h3 {
      color: #667eea;
      margin-bottom: 10px;
    }

    .interactive-card p {
      color: #666;
      font-size: 14px;
      line-height: 1.6;
    }

    /* Status Banner */
    .status-banner {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 20px;
      border-radius: 8px;
      margin-bottom: 30px;
      text-align: center;
    }

    .status-banner h3 {
      margin-bottom: 10px;
    }

    .status-banner p {
      opacity: 0.9;
      font-size: 14px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>üîç User Interaction Tracker - Test Page</h1>
    <p class="subtitle">This page helps you test all tracking features of the extension</p>

    <div class="status-banner">
      <h3>‚úÖ Extension Testing Environment</h3>
      <p>Install the extension and open the popup to see your interactions being tracked in real-time!</p>
    </div>

    <!-- Click Test Section -->
    <div class="section">
      <h2>1Ô∏è‚É£ Click Tracking Test</h2>
      <div class="test-description">
        <strong>Test:</strong> Click on the buttons below. The extension should track each click with element details.
      </div>
      <div class="click-grid">
        <button class="click-button" id="btn1">Button 1</button>
        <button class="click-button" id="btn2">Button 2</button>
        <button class="click-button" id="btn3">Button 3</button>
        <button class="click-button" id="btn4">Button 4</button>
      </div>
    </div>

    <!-- Keyboard Test Section -->
    <div class="section">
      <h2>2Ô∏è‚É£ Keystroke Tracking Test</h2>
      <div class="test-description">
        <strong>Test:</strong> Type in the fields below. Note: Character keys will be masked as [CHAR] for privacy.
      </div>
      <div class="form-group">
        <label for="testInput">Test Input:</label>
        <input type="text" id="testInput" placeholder="Type something here...">
      </div>
      <div class="form-group">
        <label for="testTextarea">Test Textarea:</label>
        <textarea id="testTextarea" placeholder="Type a longer message..."></textarea>
      </div>
    </div>

    <!-- Form Submission Test -->
    <div class="section">
      <h2>3Ô∏è‚É£ Form Submission Tracking Test</h2>
      <div class="test-description">
        <strong>Test:</strong> Fill and submit the form. The extension tracks submission metadata but NOT your actual data.
      </div>
      <form id="testForm">
        <div class="form-group">
          <label for="name">Name:</label>
          <input type="text" id="name" name="name" placeholder="Your name">
        </div>
        <div class="form-group">
          <label for="email">Email:</label>
          <input type="email" id="email" name="email" placeholder="your@email.com">
        </div>
        <div class="form-group">
          <label for="password">Password:</label>
          <input type="password" id="password" name="password" placeholder="Your password (not tracked!)">
        </div>
        <div class="form-group">
          <label for="country">Country:</label>
          <select id="country" name="country">
            <option value="">Select...</option>
            <option value="us">United States</option>
            <option value="uk">United Kingdom</option>
            <option value="ca">Canada</option>
            <option value="au">Australia</option>
          </select>
        </div>
        <div class="form-group">
          <label>Interests:</label>
          <div class="checkbox-group">
            <label class="checkbox-label">
              <input type="checkbox" name="interest" value="tech"> Technology
            </label>
            <label class="checkbox-label">
              <input type="checkbox" name="interest" value="sports"> Sports
            </label>
            <label class="checkbox-label">
              <input type="checkbox" name="interest" value="music"> Music
            </label>
          </div>
        </div>
        <button type="submit" class="submit-button">Submit Form (Won't Actually Submit)</button>
      </form>
    </div>

    <!-- Mouse Movement Test -->
    <div class="section">
      <h2>4Ô∏è‚É£ Mouse Movement Tracking Test</h2>
      <div class="test-description">
        <strong>Test:</strong> Move your mouse around the area below. Movements are throttled to reduce data volume.
      </div>
      <div class="mouse-area" id="mouseArea">
        <div class="mouse-tracker" id="mouseTracker">Move your mouse here</div>
        Move your cursor around this area
      </div>
    </div>

    <!-- Scroll Test -->
    <div class="section">
      <h2>5Ô∏è‚É£ Scroll Tracking Test</h2>
      <div class="test-description">
        <strong>Test:</strong> Scroll within the area below. The extension tracks scroll position.
      </div>
      <div class="scroll-area">
        <div class="scroll-content">
          ‚¨áÔ∏è Scroll Down ‚¨áÔ∏è
        </div>
      </div>
    </div>

    <!-- Interactive Elements -->
    <div class="section">
      <h2>6Ô∏è‚É£ Mixed Interaction Test</h2>
      <div class="test-description">
        <strong>Test:</strong> Click and hover over these cards to generate various interaction events.
      </div>
      <div class="interactive-grid">
        <div class="interactive-card" id="card1">
          <h3>Card 1</h3>
          <p>Click me to track this interaction!</p>
        </div>
        <div class="interactive-card" id="card2">
          <h3>Card 2</h3>
          <p>Hover and click to test tracking.</p>
        </div>
        <div class="interactive-card" id="card3">
          <h3>Card 3</h3>
          <p>Multiple interactions possible here!</p>
        </div>
      </div>
    </div>

    <!-- Instructions -->
    <div class="section" style="border-bottom: none;">
      <h2>üìã Testing Instructions</h2>
      <div class="test-description">
        <ol style="margin-left: 20px; line-height: 2;">
          <li><strong>Install the extension</strong> in your browser (see README.md)</li>
          <li><strong>Open the extension popup</strong> and accept consent</li>
          <li><strong>Enable tracking</strong> using the toggle switch</li>
          <li><strong>Interact with this page</strong> using the tests above</li>
          <li><strong>Open the popup again</strong> to see tracked interactions</li>
          <li><strong>Check statistics</strong> to verify data is being captured</li>
          <li><strong>Export data</strong> to see detailed CSV output</li>
        </ol>
      </div>
    </div>
  </div>

  <script>
    // Click feedback
    document.querySelectorAll('.click-button').forEach(button => {
      button.addEventListener('click', (e) => {
        const originalText = button.textContent;
        button.textContent = '‚úì Clicked!';
        button.style.background = '#4CAF50';
        setTimeout(() => {
          button.textContent = originalText;
          button.style.background = '';
        }, 1000);
      });
    });

    // Form submission prevention
    document.getElementById('testForm').addEventListener('submit', (e) => {
      e.preventDefault();
      alert('‚úì Form submitted! Check the extension popup to see the tracked event.');
      document.getElementById('testForm').reset();
    });

    // Mouse tracking display
    const mouseArea = document.getElementById('mouseArea');
    const mouseTracker = document.getElementById('mouseTracker');
    mouseArea.addEventListener('mousemove', (e) => {
      const rect = mouseArea.getBoundingClientRect();
      const x = Math.round(e.clientX - rect.left);
      const y = Math.round(e.clientY - rect.top);
      mouseTracker.textContent = `X: ${x}, Y: ${y}`;
    });

    // Card click feedback
    document.querySelectorAll('.interactive-card').forEach(card => {
      let clickCount = 0;
      card.addEventListener('click', () => {
        clickCount++;
        card.style.background = `hsl(${240 + clickCount * 30}, 70%, 95%)`;
        setTimeout(() => {
          card.style.background = '';
        }, 500);
      });
    });

    // Page load tracking notification
    window.addEventListener('load', () => {
      console.log('üîç Extension Test Page Loaded - This should be tracked as a page view!');
    });
  </script>
</body>
</html>

